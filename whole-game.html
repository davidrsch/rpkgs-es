<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Hadley Wickham y Jenny Bryan">
<meta name="description" content="Aprenda a crear un paquete, la unidad fundamental de contenido compartible, reutilizable, y código R reproducible.">
<title>1&nbsp; Todo el juego – Paquetes de R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./setup.html" rel="next">
<link href="./introduction.html" rel="prev">
<link href="./logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6a8d939bdf32084eecd9f414bffd5650.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No se han encontrado resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script><script defer="" data-domain="r-pkgs.org" src="https://plausible.io/js/plausible.js"></script><meta name="google-site-verification" content="kphyQu6n4JhBUuoLZxnJpD9dbw9q5FLwqXb9AkI2fhU">
</head>
<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./whole-game.html">Empezando</a></li><li class="breadcrumb-item"><a href="./whole-game.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Todo el juego</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Paquetes de R</a> 
        <div class="sidebar-tools-main">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://github.com/hadley/r-pkgs/">
            Original
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://github.com/davidrsch/rpkgs-es">
            Traducción
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Alternar modo lector">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">¡Bienvenidos!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prefacio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Empezando</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./whole-game.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Todo el juego</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Configuración del sistema</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Estructura y estado del paquete</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workflow101.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Flujos de trabajo de desarrollo fundamentales</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./package-within.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">El paquete en el interior de su código</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Componentes de un paquete</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Código R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Datos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./misc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Otros componentes</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Metadatos del paquete</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title"><code>DESCRIPTION</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dependencies-mindset-background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Dependencias: mentalidad y antecedentes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dependencies-in-practice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Dependencias: en la práctica</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./license.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Licencias</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Probar</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Conceptos básicos de pruebas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Diseñar su conjunto de pruebas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./testing-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Técnicas de prueba avanzadas</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Documentación</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./man.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Documentación de la función</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vignettes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Viñetas</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./other-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Otros archivos markdown</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./website.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Sitio web</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Mantenimiento y distribución</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./software-development-practices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Prácticas de desarrollo de software</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lifecycle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Ciclo de vida</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./release.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Subiendo a CRAN</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Referencias</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Apéndices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R-CMD-check.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title"><code>R CMD check</code></span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
<li><a href="#cargar-devtools-y-amigos" id="toc-cargar-devtools-y-amigos" class="nav-link active" data-scroll-target="#cargar-devtools-y-amigos"><span class="header-section-number">1.1</span> Cargar devtools y amigos</a></li>
  <li><a href="#paquete-de-juguete-regexcite" id="toc-paquete-de-juguete-regexcite" class="nav-link" data-scroll-target="#paquete-de-juguete-regexcite"><span class="header-section-number">1.2</span> Paquete de juguete: regexcite</a></li>
  <li><a href="#vista-previa-del-producto-terminado" id="toc-vista-previa-del-producto-terminado" class="nav-link" data-scroll-target="#vista-previa-del-producto-terminado"><span class="header-section-number">1.3</span> Vista previa del producto terminado</a></li>
  <li><a href="#create_package" id="toc-create_package" class="nav-link" data-scroll-target="#create_package"><span class="header-section-number">1.4</span> <code>create_package()</code></a></li>
  <li><a href="#use_git" id="toc-use_git" class="nav-link" data-scroll-target="#use_git"><span class="header-section-number">1.5</span> <code>use_git()</code></a></li>
  <li><a href="#escribe-la-primera-funci%C3%B3n." id="toc-escribe-la-primera-función." class="nav-link" data-scroll-target="#escribe-la-primera-funci%C3%B3n."><span class="header-section-number">1.6</span> Escribe la primera función.</a></li>
  <li><a href="#use_r" id="toc-use_r" class="nav-link" data-scroll-target="#use_r"><span class="header-section-number">1.7</span> <code>use_r()</code></a></li>
  <li>
<a href="#sec-whole-game-load-all" id="toc-sec-whole-game-load-all" class="nav-link" data-scroll-target="#sec-whole-game-load-all"><span class="header-section-number">1.8</span> <code>load_all()</code></a>
  <ul class="collapse">
<li><a href="#commit-strsplit1" id="toc-commit-strsplit1" class="nav-link" data-scroll-target="#commit-strsplit1"><span class="header-section-number">1.8.1</span> Commit <code>strsplit1()</code></a></li>
  </ul>
</li>
  <li><a href="#check" id="toc-check" class="nav-link" data-scroll-target="#check"><span class="header-section-number">1.9</span> <code>check()</code></a></li>
  <li><a href="#editar-description" id="toc-editar-description" class="nav-link" data-scroll-target="#editar-description"><span class="header-section-number">1.10</span> Editar <code>DESCRIPTION</code></a></li>
  <li><a href="#use_mit_license" id="toc-use_mit_license" class="nav-link" data-scroll-target="#use_mit_license"><span class="header-section-number">1.11</span> <code>use_mit_license()</code></a></li>
  <li>
<a href="#sec-whole-game-document" id="toc-sec-whole-game-document" class="nav-link" data-scroll-target="#sec-whole-game-document"><span class="header-section-number">1.12</span> <code>document()</code></a>
  <ul class="collapse">
<li><a href="#namespace-cambios" id="toc-namespace-cambios" class="nav-link" data-scroll-target="#namespace-cambios"><span class="header-section-number">1.12.1</span> <code>NAMESPACE</code> cambios</a></li>
  </ul>
</li>
  <li><a href="#check-de-nuevo" id="toc-check-de-nuevo" class="nav-link" data-scroll-target="#check-de-nuevo"><span class="header-section-number">1.13</span> <code>check()</code> de nuevo</a></li>
  <li><a href="#install" id="toc-install" class="nav-link" data-scroll-target="#install"><span class="header-section-number">1.14</span> <code>install()</code></a></li>
  <li><a href="#use_testthat" id="toc-use_testthat" class="nav-link" data-scroll-target="#use_testthat"><span class="header-section-number">1.15</span> <code>use_testthat()</code></a></li>
  <li><a href="#use_package" id="toc-use_package" class="nav-link" data-scroll-target="#use_package"><span class="header-section-number">1.16</span> <code>use_package()</code></a></li>
  <li><a href="#use_github" id="toc-use_github" class="nav-link" data-scroll-target="#use_github"><span class="header-section-number">1.17</span> <code>use_github()</code></a></li>
  <li><a href="#use_readme_rmd" id="toc-use_readme_rmd" class="nav-link" data-scroll-target="#use_readme_rmd"><span class="header-section-number">1.18</span> <code>use_readme_rmd()</code></a></li>
  <li><a href="#el-%C3%BAltimo-check-e-install" id="toc-el-último-check-e-install" class="nav-link" data-scroll-target="#el-%C3%BAltimo-check-e-install"><span class="header-section-number">1.19</span> El último: <code>check()</code> e <code>install()</code></a></li>
  <li><a href="#revisi%C3%B3n" id="toc-revisión" class="nav-link" data-scroll-target="#revisi%C3%B3n"><span class="header-section-number">1.20</span> Revisión</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./whole-game.html">Empezando</a></li><li class="breadcrumb-item"><a href="./whole-game.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Todo el juego</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="sec-whole-game" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Todo el juego</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p><em>¡Alerta de spoiler!</em></p>
<p>Este capítulo recorre el desarrollo de un pequeño paquete de juguete. Su objetivo es pintar el panorama general y sugerir un flujo de trabajo, antes de pasar al tratamiento detallado de los componentes clave de un paquete R.</p>
<p>Para mantener el ritmo rápido, aprovechamos las comodidades modernas del paquete devtools y el IDE de RStudio. En capítulos posteriores, seremos más explícitos acerca de lo que esos ayudantes están haciendo por nosotros.</p>
<p>Este capítulo es independiente, ya que completar el ejercicio no es un requisito estricto para continuar con el resto del libro; sin embargo, le sugerimos encarecidamente que lo siga y cree este paquete de juguete con nosotros.</p>
<section id="cargar-devtools-y-amigos" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="cargar-devtools-y-amigos">
<span class="header-section-number">1.1</span> Cargar devtools y amigos</h2>
<p>Puede iniciar su nuevo paquete desde cualquier sesión de R activa. No necesita preocuparse por si está en un proyecto nuevo o existente o no. Las funciones que utilizamos garantizan que creemos un nuevo proyecto limpio para el paquete.</p>
<p>Cargue el paquete devtools, que es la cara pública de un conjunto de paquetes que admiten varios aspectos del desarrollo de paquetes. El más obvio de ellos es el paquete usethis, que verá que también se está cargando.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: usethis</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>¿Tienes una versión antigua de devtools? Compare su versión con la nuestra y actualícela si es necesario.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html">packageVersion</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] '2.4.5'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="paquete-de-juguete-regexcite" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="paquete-de-juguete-regexcite">
<span class="header-section-number">1.2</span> Paquete de juguete: regexcite</h2>
<p>Para ayudarle a través del proceso, utilizamos varias funciones de devtools para crear un pequeño paquete de juguete desde cero, con características que se ven comúnmente en los paquetes lanzados:</p>
<ul>
<li>Funciones para abordar una necesidad específica, en este caso ayudantes para trabajar con expresiones regulares.</li>
<li>Control de versiones y proceso de desarrollo abierto.
<ul>
<li>Esto es completamente opcional en tu trabajo, pero muy recomendable. Verás cómo Git y GitHub nos ayudan a exponer todas las etapas intermedias de nuestro paquete de juguete.</li>
</ul>
</li>
<li>Acceso a flujos de trabajo establecidos para instalación, obtención de ayuda y verificación de calidad.
<ul>
<li>Documentación para funciones individuales mediante <a href="https://roxygen2.r-lib.org">roxygen2</a>.</li>
<li>Pruebas unitarias con <a href="https://testthat.r-lib.org">testthat</a>.</li>
<li>Documentación del paquete en su conjunto a través de un ejecutable. <code>README.Rmd</code>.</li>
</ul>
</li>
</ul>
<p>Llamamos al paquete <strong>regexcite</strong> y contiene un par de funciones que facilitan las tareas comunes con expresiones regulares. Tenga en cuenta que estas funciones son muy simples y solo las utilizamos aquí como medio para guiarlo a través del proceso de desarrollo del paquete. Si está buscando ayudas reales para trabajar con expresiones regulares, existen varios paquetes de R adecuados que abordan este espacio problemático:</p>
<ul>
<li>
<a href="https://stringr.tidyverse.org">stringr</a> (which uses stringi)</li>
<li><a href="https://stringi.gagolewski.com/">stringi</a></li>
<li><a href="https://cran.r-project.org/package=rex">rex</a></li>
<li><a href="https://cran.r-project.org/package=rematch2">rematch2</a></li>
</ul>
<p>Nuevamente, el paquete regexcite en sí es solo un dispositivo para demostrar un flujo de trabajo típico para el desarrollo de paquetes con devtools.</p>
</section><section id="vista-previa-del-producto-terminado" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="vista-previa-del-producto-terminado">
<span class="header-section-number">1.3</span> Vista previa del producto terminado</h2>
<p>Se realiza un seguimiento del paquete regexcite durante su desarrollo con el sistema de control de versiones Git. Esto es puramente opcional y ciertamente puede seguirlo sin implementarlo. Un buen beneficio adicional es que eventualmente lo conectamos a un repositorio remoto en GitHub, lo que significa que puedes ver el glorioso resultado por el que estamos trabajando visitando regexcite en GitHub: <a href="https://github.com/jennybc/regexcite" class="uri">https://github.com/jennybc/regexcite</a>. Al inspeccionar el <a href="https://github.com/jennybc/regexcite/commits/main">commit history</a> y especialmente las diferencias, puedes ver exactamente qué cambios en cada paso del proceso que se detalla a continuación.</p>
<!-- TODO: I think these diffs are extremely useful and would like to surface them better here. -->
</section><section id="create_package" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="create_package">
<span class="header-section-number">1.4</span> <code>create_package()</code>
</h2>
<p>Llame a <code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code> para inicializar un nuevo paquete en un directorio de su computadora. <code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code> creará automáticamente ese directorio si aún no existe (y ese suele ser el caso). Consulte <a href="workflow101.html#sec-workflow101-create-package" class="quarto-xref"><span>Sección 4.1</span></a> para obtener más información sobre la creación de paquetes.</p>
<p>Elija deliberadamente dónde crear este paquete en su computadora. Probablemente debería estar en algún lugar de su directorio de inicio, junto con sus otros proyectos de R. No debe estar anidado dentro de otro proyecto RStudio, paquete R o repositorio Git. Tampoco debería estar en una biblioteca de paquetes de R, que contiene paquetes que ya han sido creados e instalados. La conversión del paquete fuente que creamos aquí en un paquete instalado es parte de lo que facilita devtools. ¡No intentes hacer el trabajo de devtools por el!</p>
<p>Una vez que haya seleccionado dónde crear este paquete, sustituya la ruta elegida por una llamada <code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code> como esta:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://usethis.r-lib.org/reference/create_package.html">create_package</a></span><span class="op">(</span><span class="st">"~/path/to/regexcite"</span><span class="op">)</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Para la creación de este libro tenemos que trabajar en un directorio temporal, porque el libro está construido de forma no interactiva en la nube. Detrás de escena, estamos ejecutando nuestro propio comando <code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code>, pero no te sorprendas si nuestra salida difiere un poco de la tuya.</p>
<div class="cell">
<pre><code>#&gt; ✔ Creating '/tmp/RtmpA51qZz/regexcite/'
#&gt; ✔ Setting active project to '/tmp/RtmpA51qZz/regexcite'
#&gt; ✔ Creating 'R/'
#&gt; ✔ Writing 'DESCRIPTION'
#&gt; Package: regexcite
#&gt; Title: What the Package Does (One Line, Title Case)
#&gt; Version: 0.0.0.9000
#&gt; Authors@R (parsed):
#&gt;     * First Last &lt;first.last@example.com&gt; [aut, cre] (YOUR-ORCID-ID)
#&gt; Description: What the package does (one paragraph).
#&gt; License: `use_mit_license()`, `use_gpl3_license()` or friends to pick a
#&gt;     license
#&gt; Encoding: UTF-8
#&gt; Roxygen: list(markdown = TRUE)
#&gt; RoxygenNote: 7.3.1
#&gt; ✔ Writing 'NAMESPACE'
#&gt; ✔ Writing 'regexcite.Rproj'
#&gt; ✔ Adding '^regexcite\\.Rproj$' to '.Rbuildignore'
#&gt; ✔ Adding '.Rproj.user' to '.gitignore'
#&gt; ✔ Adding '^\\.Rproj\\.user$' to '.Rbuildignore'
#&gt; ✔ Setting active project to '&lt;no active project&gt;'</code></pre>
</div>
<p>Si está trabajando en RStudio, debería encontrarse en una nueva instancia de RStudio, abierta en su nuevo paquete regexcite (y Proyecto). Si de alguna manera necesita hacer esto manualmente, navegue hasta el directorio y haga doble clic en <code>regexcite.Rproj</code>. RStudio tiene un manejo especial para paquetes y ahora debería ver una pestaña <em>Build</em> en el mismo panel que <em>Environment</em> e <em>History</em>.</p>
<p>Probablemente necesites llamar a <code><a href="https://devtools.r-lib.org/">library(devtools)</a></code> nuevamente, porque <code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code> probablemente te haya llevado a una nueva sesión de R, en tu nuevo paquete.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>¿Qué hay en este nuevo directorio que también es un paquete R y, probablemente, un proyecto RStudio? Aquí hay una lista (localmente, puede consultar su panel <em>Files</em>):</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">path</th>
<th style="text-align: left;">type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">.Rbuildignore</td>
<td style="text-align: left;">file</td>
</tr>
<tr class="even">
<td style="text-align: left;">.gitignore</td>
<td style="text-align: left;">file</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DESCRIPTION</td>
<td style="text-align: left;">file</td>
</tr>
<tr class="even">
<td style="text-align: left;">NAMESPACE</td>
<td style="text-align: left;">file</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R</td>
<td style="text-align: left;">directory</td>
</tr>
<tr class="even">
<td style="text-align: left;">regexcite.Rproj</td>
<td style="text-align: left;">file</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>En el panel <em>Files</em>, vaya a <em>More (símbolo de engranaje) &gt; Show Hidden Files</em> para alternar la visibilidad de archivos ocultos (a.k.a. <a href="https://en.wikipedia.org/wiki/Hidden_file_and_hidden_directory#Unix_and_Unix-like_environments">“dotfiles”</a>). Unos pocos seleccionados están visibles todo el tiempo, pero a veces quieres verlos todos.</p>
</div>
</div>
<ul>
<li>
<code>.Rbuildignore</code> enumera los archivos que necesitamos tener a mano pero que no deben incluirse al crear el paquete R desde el código fuente. Si no está utilizando RStudio, es posible que <code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code> no cree este archivo (ni tampoco <code>.gitignore</code>) al principio, ya que no hay ninguna maquinaria relacionada con RStudio que deba ignorarse. Sin embargo, es probable que en algún momento desarrolle la necesidad de <code>.Rbuildignore</code>, independientemente del editor que esté utilizando. Se analiza con más detalle en <a href="structure.html#sec-rbuildignore" class="quarto-xref"><span>Sección 3.3.1</span></a>.</li>
<li>
<code>.Rproj.user</code>, si lo tiene, es un directorio utilizado internamente por RStudio.</li>
<li>
<code>.gitignore</code> anticipa el uso de Git y le dice a Git que ignore algunos archivos estándar detrás de escena creados por R y RStudio. Incluso si no planeas usar Git, esto es inofensivo.</li>
<li>
<code>DESCRIPTION</code> proporciona metadatos sobre su paquete. Editaremos esto en breve y <a href="description.html" class="quarto-xref"><span>Capítulo 9</span></a> cubre el tema general del archivo <code>DESCRIPTION</code>.</li>
<li>
<code>NAMESPACE</code> declara las funciones que su paquete exporta para uso externo y las funciones externas que su paquete importa de otros paquetes. En este punto, está vacío, excepto por un comentario que declara que este es un archivo que no debes editar a mano.</li>
<li>El directorio <code>R/</code> es el “final comercial” de su paquete. Pronto contendrá archivos <code>.R</code> con definiciones de funciones.</li>
<li>
<code>regexcite.Rproj</code> es el archivo que convierte este directorio en un proyecto RStudio. Incluso si no utiliza RStudio, este archivo es inofensivo. O puede suprimir su creación con <code>create_package(..., rstudio = FALSE)</code>. Más en <a href="workflow101.html#sec-workflow101-rstudio-projects" class="quarto-xref"><span>Sección 4.2</span></a>.</li>
</ul></section><section id="use_git" class="level2" data-number="1.5"><h2 data-number="1.5" class="anchored" data-anchor-id="use_git">
<span class="header-section-number">1.5</span> <code>use_git()</code>
</h2>
<p>El directorio regexcite es un paquete fuente de R y un proyecto RStudio. Ahora lo convertimos también en un repositorio Git, con <code><a href="https://usethis.r-lib.org/reference/use_git.html">use_git()</a></code>. (Por cierto, <code><a href="https://usethis.r-lib.org/reference/use_git.html">use_git()</a></code> funciona en cualquier proyecto, independientemente de si es un paquete R).</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_git.html">use_git</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ Initialising Git repo</span></span>
<span><span class="co">#&gt; ✔ Adding '.Rhistory', '.Rdata', '.httr-oauth', '.DS_Store', '.quarto' to '.gitignore'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>En una sesión interactiva, se le preguntará si desea enviar algunos archivos aquí y deberá aceptar la oferta. Detrás de escena, también enviaremos esos mismos archivos.</p>
<p>Entonces, ¿qué ha cambiado en el paquete? Sólo la creación de un directorio <code>.git</code>, que está oculto en la mayoría de los contextos, incluido el explorador de archivos RStudio. Su existencia es evidencia de que efectivamente hemos inicializado un repositorio de Git aquí.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">path</th>
<th style="text-align: left;">type</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">.git</td>
<td style="text-align: left;">directory</td>
</tr></tbody>
</table>
</div>
</div>
<p>Si está utilizando RStudio, probablemente solicitó permiso para reiniciarse en este proyecto, lo cual debería hacer. Puede hacerlo manualmente saliendo y luego reiniciando RStudio haciendo doble clic en <code>regexcite.Rproj</code>. Ahora, además del soporte para el desarrollo de paquetes, tiene acceso a un cliente Git básico en la pestaña <em>Git</em> del panel <em>Environment/History/Build</em>.</p>
<!-- TODO: good place for a screenshot. -->
<p>Haga clic en Historial (el ícono del reloj en el panel de Git) y, si dio su consentimiento, verá una confirmación inicial realizada a través de <code><a href="https://usethis.r-lib.org/reference/use_git.html">use_git()</a></code>:</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">commit</th>
<th style="text-align: left;">author</th>
<th style="text-align: left;">message</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: left;">095257c2ac…</td>
<td style="text-align: left;">Quarto GHA Workflow Runner <a href="mailto:quarto-github-actions-publish@example.com" class="email">quarto-github-actions-publish@example.com</a>
</td>
<td style="text-align: left;">Initial commit</td>
</tr></tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>RStudio puede inicializar un repositorio Git, en cualquier proyecto, incluso si no es un paquete R, siempre que haya configurado la integración de RStudio + Git. Hacer <em>Tools &gt; Version Control &gt; Project Setup</em>. Entonces seleccione <em>Version control system: Git</em> y <em>initialize a new git repository for this project</em>.</p>
</div>
</div>
</section><section id="escribe-la-primera-función." class="level2" data-number="1.6"><h2 data-number="1.6" class="anchored" data-anchor-id="escribe-la-primera-función.">
<span class="header-section-number">1.6</span> Escribe la primera función.</h2>
<p>Una tarea bastante común cuando se trata de cadenas es la necesidad de dividir una única cadena en muchas partes. La función <code><a href="https://rdrr.io/r/base/strsplit.html">strsplit()</a></code> en base R hace exactamente esto.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"alfa,bravo,charlie,delta"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "alfa,bravo,charlie,delta"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">x</span>, split <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "alfa"    "bravo"   "charlie" "delta"</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Observe de cerca el valor de retorno.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">x</span>, split <span class="op">=</span> <span class="st">","</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 1</span></span>
<span><span class="co">#&gt;  $ : chr [1:4] "alfa" "bravo" "charlie" "delta"</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>La forma de este valor de retorno a menudo sorprende a la gente o, al menos, les incomoda. La entrada es un vector de caracteres de longitud uno y la salida es una lista de longitud uno. Esto tiene mucho sentido a la luz de la tendencia fundamental de R hacia la vectorización. Pero a veces sigue siendo un poco fastidioso. A menudo sabes que tu entrada es moralmente un escalar, es decir, es solo una cadena y realmente quieres que la salida sea el vector de caracteres de sus partes.</p>
<p>Esto lleva a los usuarios de R a emplear varios métodos para “deslistar” el resultado:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">x</span>, split <span class="op">=</span> <span class="st">","</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "alfa"    "bravo"   "charlie" "delta"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">x</span>, split <span class="op">=</span> <span class="st">","</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "alfa"    "bravo"   "charlie" "delta"</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>La segunda solución, más segura, es la base para la función inaugural de regexcite: <code>strsplit1()</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">strsplit1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">split</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">x</span>, split <span class="op">=</span> <span class="va">split</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="op">}</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Este libro no le enseña cómo escribir funciones en R. Para obtener más información al respecto, eche un vistazo a <a href="https://r4ds.hadley.nz/functions.html">Capítulo de funciones</a> de R para Ciencia de Datos y el <a href="https://adv-r.hadley.nz/functions.html">Capítulo de funciones</a> de R Avanzado.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>El nombre de <code>strsplit1()</code> es un guiño al muy útil <code><a href="https://rdrr.io/r/base/paste.html">paste0()</a></code>, que apareció por primera vez en R 2.15.0 en 2012. <code><a href="https://rdrr.io/r/base/paste.html">paste0()</a></code> fue creado para abordar el caso de uso extremadamente común de pegar - unir cadenas <em>sin</em> un separador. <code><a href="https://rdrr.io/r/base/paste.html">paste0()</a></code> ha sido descrito cariñosamente como <a href="https://simplystatistics.org/posts/2013-01-31-paste0-is-statistical-computings-most-influential-contribution-of-the-21st-century/">“la contribución más influyente de la informática estadística del siglo XXI”</a>.</p>
<p>La función <code>strsplit1()</code> fue tan inspiradora que ahora es una función real en el paquete stringr: <code><a href="https://stringr.tidyverse.org/reference/str_split.html">stringr::str_split_1()</a></code>!</p>
</div>
</div>
</section><section id="use_r" class="level2" data-number="1.7"><h2 data-number="1.7" class="anchored" data-anchor-id="use_r">
<span class="header-section-number">1.7</span> <code>use_r()</code>
</h2>
<p>¿Dónde deberías poner la definición de <code>strsplit1()</code>? Guárdelo en un archivo <code>.R</code>, en el subdirectorio <code>R/</code> de su paquete. Una posición inicial razonable es crear un nuevo archivo <code>.R</code> para cada función orientada al usuario en su paquete y nombrar el archivo después de la función. A medida que agregue más funciones, querrá relajar esto y comenzar a agrupar funciones relacionadas. Guardaremos la definición de <code>strsplit1()</code> en el archivo <code>R/strsplit1.R</code>.</p>
<p>El asistente <code><a href="https://usethis.r-lib.org/reference/use_r.html">use_r()</a></code> crea y/o abre un script debajo de <code>R/</code>. Realmente brilla en un paquete más maduro, cuando se navega entre archivos <code>.R</code> y el archivo de prueba asociado. Pero incluso en este caso es útil evitar dejarse llevar demasiado mientras se trabaja en <code>Untitled4</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_r.html">use_r</a></span><span class="op">(</span><span class="st">"strsplit1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; • Edit 'R/strsplit1.R'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Coloque la definición de <code>strsplit1()</code> <strong>y solo la definición de <code>strsplit1()</code></strong> en <code>R/strsplit1.R</code> y guárdela. El archivo <code>R/strsplit1.R</code> NO debe contener ningún otro código de nivel superior que hayamos ejecutado recientemente, como la definición de nuestra entrada de práctica <code>x</code>, <code><a href="https://devtools.r-lib.org/">library(devtools)</a></code> o <code><a href="https://usethis.r-lib.org/reference/use_git.html">use_git()</a></code> . Esto presagia un ajuste que deberá realizar a medida que pasa de escribir scripts R a paquetes R. Los paquetes y scripts utilizan diferentes mecanismos para declarar su dependencia de otros paquetes y almacenar código de ejemplo o de prueba. Exploramos esto más a fondo en <a href="code.html" class="quarto-xref"><span>Capítulo 6</span></a>.</p>
</section><section id="sec-whole-game-load-all" class="level2" data-number="1.8"><h2 data-number="1.8" class="anchored" data-anchor-id="sec-whole-game-load-all">
<span class="header-section-number">1.8</span> <code>load_all()</code>
</h2>
<p>¿Cómo probamos <code>strsplit1()</code>? Si se tratara de un script R normal, podríamos usar RStudio para enviar la definición de la función a la Consola R y definir <code>strsplit1()</code> en el entorno global. O tal vez llamaríamos <code>source ("R/strsplit1.R")</code>. Sin embargo, para el desarrollo de paquetes, devtools ofrece un enfoque más sólido.</p>
<p>Llame a <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code> para que <code>strsplit1()</code> esté disponible para la experimentación.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/load_all.html">load_all</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Loading regexcite</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Ahora llame a <code>strsplit1(x)</code> para ver cómo funciona.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"alfa,bravo,charlie,delta"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "alfa,bravo,charlie,delta"</span></span>
<span><span class="fu">strsplit1</span><span class="op">(</span><span class="va">x</span>, split <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "alfa"    "bravo"   "charlie" "delta"</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Tenga en cuenta que <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code> ha hecho que la función <code>strsplit1()</code> esté disponible, aunque no existe en el entorno global.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/exists.html">exists</a></span><span class="op">(</span><span class="st">"strsplit1"</span>, where <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html">globalenv</a></span><span class="op">(</span><span class="op">)</span>, inherits <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Si ve <code>TRUE</code> en lugar de <code>FALSE</code>, eso indica que todavía está utilizando un flujo de trabajo orientado a secuencias de comandos y obteniendo sus funciones. A continuación le indicamos cómo volver a la normalidad:</p>
<ul>
<li>Limpie el entorno global y reinicie R.</li>
<li>Vuelva a adjuntar devtools con <code><a href="https://devtools.r-lib.org/">library(devtools)</a></code> y vuelva a cargar regexcite con <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code>.</li>
<li>Redefina la entrada de prueba <code>x</code> y llame a <code>strsplit1(x, split = ",")</code> nuevamente. ¡Esto debería funcionar!</li>
<li>Ejecute <code>exists("strsplit1", donde = globalenv(), hereda = FALSE)</code> nuevamente y debería ver <code>FALSE</code>.</li>
</ul>
<p><code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code> Simula el proceso de construcción, instalación y conexión del paquete regexcite. A medida que su paquete acumula más funciones, algunas exportadas, otras no, algunas de las cuales se llaman entre sí, algunas de las cuales llaman a funciones de paquetes de los que depende, <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code> le brinda una idea mucho más precisa de cómo se está desarrollando el paquete que funciones de conducción de prueba definidas en el entorno global. Además, <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code> permite una iteración mucho más rápida que construir, instalar y adjuntar el paquete. Consulte <a href="workflow101.html#sec-workflow101-load-all" class="quarto-xref"><span>Sección 4.4</span></a> para obtener más información sobre <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code>.</p>
<p>Para revisar lo que hemos hecho hasta ahora:</p>
<ul>
<li>Escribimos nuestra primera función, <code>strsplit1()</code>, para dividir una cadena en un vector de caracteres (no una lista que contenga un vector de caracteres).</li>
<li>Usamos <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code> para hacer que esta función esté disponible rápidamente para uso interactivo, como si hubiéramos creado e instalado regexcite y lo hubiéramos adjuntado a través de <code><a href="https://rdrr.io/r/base/library.html">library(regexcite)</a></code>.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>RStudio expone <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code> en el menu <em>Build</em>, en el panel <em>Build</em> via <em>More &gt; Load All</em>, y en atajos de teclado Ctrl + Shift + L (Windows &amp; Linux) o Cmd + Shift + L (macOS).</p>
</div>
</div>
<section id="commit-strsplit1" class="level3" data-number="1.8.1"><h3 data-number="1.8.1" class="anchored" data-anchor-id="commit-strsplit1">
<span class="header-section-number">1.8.1</span> Commit <code>strsplit1()</code>
</h3>
<p>Si estás usando Git, usa tu método preferido para enviar el nuevo archivo <code>R/strsplit1.R</code>. Lo hacemos detrás de escena aquí y aquí está la diferencia asociada.</p>
<div class="cell">
<pre><code>diff --git a/R/strsplit1.R b/R/strsplit1.R
new file mode 100644
index 0000000..29efb88
--- /dev/null
+++ b/R/strsplit1.R
@@ -0,0 +1,3 @@
+strsplit1 &lt;- function(x, split) {
+  strsplit(x, split = split)[[1]]
+}</code></pre>
</div>
<p>A partir de este momento, realizaremos un commit después de cada paso. Recuerda <a href="https://github.com/jennybc/regexcite/commits/main">estos commits</a> están disponibles en el repositorio público.</p>
</section></section><section id="check" class="level2" data-number="1.9"><h2 data-number="1.9" class="anchored" data-anchor-id="check">
<span class="header-section-number">1.9</span> <code>check()</code>
</h2>
<p>Tenemos evidencia empírica e informal de que <code>strsplit1()</code> funciona. Pero, ¿cómo podemos estar seguros de que todas las partes móviles del paquete regexcite siguen funcionando? Puede parecer una tontería comprobarlo después de una adición tan pequeña, pero es bueno establecer el hábito de comprobarlo con frecuencia.</p>
<p><code>R CMD check</code>, ejecutado en el shell, es el estándar de oro para comprobar que un paquete R está en pleno funcionamiento. <code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code> es una forma conveniente de ejecutar esto sin salir de la sesión de R.</p>
<p>Tenga en cuenta que <code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code> produce una salida bastante voluminosa, optimizada para el consumo interactivo. Lo interceptamos aquí y solo revelamos un resumen. Su salida local <code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code> será diferente.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/check.html">check</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<pre><code>── R CMD check results ─────────────────── regexcite 0.0.0.9000 ────
Duration: 5.9s

❯ checking DESCRIPTION meta-information ... WARNING
  Non-standard license specification:
    `use_mit_license()`, `use_gpl3_license()` or friends to pick a
    license
  Standardizable: FALSE

0 errors ✔ | 1 warning ✖ | 0 notes ✔</code></pre>
</div>
<p><em>¡Es esencial leer realmente el resultado del cheque!</em> Aborde los problemas tempranamente y con frecuencia. Es como el desarrollo incremental de archivos <code>.R</code> y <code>.Rmd</code>. Cuanto más tiempo pase entre comprobaciones completas de que todo funciona, más difícil será identificar y resolver sus problemas.</p>
<p>En este punto, esperamos 1 advertencia (y 0 errores, 0 notas):</p>
<pre><code>Non-standard license specification:
  `use_mit_license()`, `use_gpl3_license()` or friends to pick a
  license</code></pre>
<p>Abordaremos eso pronto, haciendo exactamente lo que dice. Puedes aprender más sobre <code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code> en <a href="workflow101.html#sec-workflow101-r-cmd-check" class="quarto-xref"><span>Sección 4.5</span></a>.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>RStudio expone <code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code> en el menú <em>Build</em>, en el panel <em>Build</em> a través de <em>Check</em> y en los atajos de teclado Ctrl + Shift + E (Windows &amp; Linux) o Cmd + Shift + E (macOS).</p>
</div>
</div>
</section><section id="editar-description" class="level2" data-number="1.10"><h2 data-number="1.10" class="anchored" data-anchor-id="editar-description">
<span class="header-section-number">1.10</span> Editar <code>DESCRIPTION</code>
</h2>
<p>El archivo <code>DESCRIPTION</code> proporciona metadatos sobre su paquete y se trata completamente en <a href="description.html" class="quarto-xref"><span>Capítulo 9</span></a>. Este es un buen momento para echar un vistazo a la descripción actual de regexcite. Verá que está lleno de contenido repetitivo, que debe ser reemplazado.</p>
<p>Para agregar sus propios metadatos, realice estas ediciones:</p>
<ul>
<li>Conviértete en el autor. Si no tiene un ORCID, puede omitir la parte <code>coment = ...</code>.</li>
<li>Escriba un texto descriptivo en los campos <code>Title</code> y <code>Description</code>.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use Ctrl + <code>.</code> en RStudio y comienza a escribir “DESCRIPTION” para activar un asistente que facilita la apertura de un archivo para editarlo. Además de un nombre de archivo, su sugerencia puede ser el nombre de una función. Esto es muy útil cuando un paquete tiene muchos archivos.</p>
</div>
</div>
<p>Cuando termines, <code>DESCRIPTION</code> debería verse similar a esto:</p>
<!-- I'm trying to avoid any syntax highlighting here, while also not trying to do things in a way that's acceptable to O'Reilly who wants "text". -->
<div class="cell">
<pre class="text cell-code"><code>Package: regexcite
Title: Haga que las expresiones regulares sean más emocionantes
Version: 0.0.0.9000
Authors@R: 
    person("Jane", "Doe", , "jane@example.com", role = c("aut", "cre"))
Description: Funciones convenientes para facilitar un poco algunas tareas
    comunes con manipulación de cadenas y expresiones regulares.
License: `use_mit_license()`, `use_gpl3_license()` or friends to pick a
    license
Encoding: UTF-8
Roxygen: list(markdown = TRUE)
RoxygenNote: 7.1.2</code></pre>
</div>
</section><section id="use_mit_license" class="level2" data-number="1.11"><h2 data-number="1.11" class="anchored" data-anchor-id="use_mit_license">
<span class="header-section-number">1.11</span> <code>use_mit_license()</code>
</h2>
<blockquote class="blockquote">
<p><a href="https://blog.codinghorror.com/pick-a-license-any-license/">Elija una licencia, cualquier licencia. – Jeff Atwood</a></p>
</blockquote>
<p>Actualmente tenemos un marcador de posición en el campo <code>License</code> de <code>DESCRIPTION</code> que es deliberadamente inválido y sugiere una solución.</p>
<pre><code>License: `use_mit_license()`, `use_gpl3_license()` or friends to pick a
    license</code></pre>
<p>Para configurar una licencia válida para el paquete, llame <code><a href="https://usethis.r-lib.org/reference/licenses.html">use_mit_license()</a></code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://usethis.r-lib.org/reference/licenses.html">use_mit_license</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ Adding 'MIT + file LICENSE' to License</span></span>
<span><span class="co">#&gt; ✔ Writing 'LICENSE'</span></span>
<span><span class="co">#&gt; ✔ Writing 'LICENSE.md'</span></span>
<span><span class="co">#&gt; ✔ Adding '^LICENSE\\.md$' to '.Rbuildignore'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Esto configura correctamente el campo <code>License</code> para la licencia MIT, que promete nombrar a los titulares de los derechos de autor y el año en un archivo <code>LICENSE</code>. Abra el archivo <code>LICENSE</code> recién creado y confirme que se ve así:</p>
<div class="cell">
<pre><code>YEAR: 2025
COPYRIGHT HOLDER: regexcite authors</code></pre>
</div>
<p>Al igual que otros asistentes de licencia, <code><a href="https://usethis.r-lib.org/reference/licenses.html">use_mit_license()</a></code> también coloca una copia de la licencia completa en <code>LICENSE.md</code> y agrega este archivo a <code>.Rbuildignore</code>. Se considera una buena práctica incluir una licencia completa en el código fuente de su paquete, como en GitHub, pero CRAN no permite la inclusión de este archivo en un paquete. Puede obtener más información sobre las licencias en <a href="license.html" class="quarto-xref"><span>Capítulo 12</span></a>.</p>
</section><section id="sec-whole-game-document" class="level2" data-number="1.12"><h2 data-number="1.12" class="anchored" data-anchor-id="sec-whole-game-document">
<span class="header-section-number">1.12</span> <code>document()</code>
</h2>
<p>¿No sería bueno recibir ayuda sobre <code>strsplit1()</code>, tal como lo hacemos con otras funciones de R? Esto requiere que su paquete tenga un archivo de documentación R especial, <code>man/strsplit1.Rd</code>, escrito en un lenguaje de marcado específico de R que es algo así como LaTeX. Afortunadamente, no necesariamente tenemos que crear eso directamente.</p>
<p>Escribimos un comentario con formato especial justo encima de <code>strsplit1()</code>, en su archivo fuente, y luego dejamos que un paquete llamado <a href="https://roxygen2.r-lib.org">roxygen2</a> manejar la creación de <code>man/strsplit1.Rd</code>. La motivación y la mecánica de roxygen2 se tratan en <a href="man.html" class="quarto-xref"><span>Capítulo 16</span></a>.</p>
<p>Si usa RStudio, abra <code>R/strsplit1.R</code> en el editor de código fuente y coloque el cursor en algún lugar de la definición de la función <code>strsplit1()</code>. Ahora haz <em>Code &gt; Insert roxygen skeleton</em>. Debería aparecer un comentario muy especial encima de tu función, en el que cada línea comienza con <code>#'</code>. RStudio solo inserta una plantilla básica, por lo que deberá editarla para que se vea así a continuación.</p>
<p>Si no utiliza RStudio, cree el comentario usted mismo. De todos modos, debes modificarlo para que se vea así:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' dividir una cadena de caracteres</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param x Un vector de caracteres con un elemento..</span></span>
<span><span class="co">#' @param split En qué dividirse.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return Un vector de caracteres.</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' x &lt;- "alfa,bravo,charlie,delta"</span></span>
<span><span class="co">#' strsplit1(x, split = ",")</span></span>
<span><span class="va">strsplit1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">split</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span><span class="op">(</span><span class="va">x</span>, split <span class="op">=</span> <span class="va">split</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="op">}</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<!-- TODO: mention how RStudio helps you execute examples here? -->
<p>¡Pero aún no hemos terminado! Todavía tenemos que activar la conversión de este nuevo comentario de roxygen en <code>man/strsplit1.Rd</code> con <code><a href="https://devtools.r-lib.org/reference/document.html">document()</a></code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Updating regexcite documentation</span></span>
<span><span class="co">#&gt; Setting `RoxygenNote` to "7.3.1"</span></span>
<span><span class="co">#&gt; ℹ Loading regexcite</span></span>
<span><span class="co">#&gt; Writing 'NAMESPACE'</span></span>
<span><span class="co">#&gt; Writing 'strsplit1.Rd'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>RStudio expone <code><a href="https://devtools.r-lib.org/reference/document.html">document()</a></code> en el menú <em>Build</em>, en el panel <em>Build</em> a través de <em>More &gt; Document</em> y con atajos de teclado Ctrl + Shift + D (Windows &amp; Linux) o Cmd + Shift + D (macOS).</p>
</div>
</div>
<p>Ahora debería poder obtener una vista previa de su archivo de ayuda de esta manera:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="op">?</span><span class="va">strsplit1</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Verás un mensaje como “Rendering development documentation for ‘strsplit1’”, lo que recuerda que básicamente está obteniendo una vista previa del borrador de la documentación. Es decir, esta documentación está presente en el código fuente de su paquete, pero aún no está presente en un paquete instalado. De hecho, todavía no hemos instalado regexcite, pero lo haremos pronto. Si <code>?strsplit1</code> no funciona para usted, es posible que deba llamar a <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code> primero y luego intentarlo nuevamente.</p>
<p>Tenga en cuenta también que la documentación de su paquete no se conectará correctamente hasta que se haya construido e instalado formalmente. Esto elimina detalles como los enlaces entre archivos de ayuda y la creación de un índice de paquetes.</p>
<section id="namespace-cambios" class="level3" data-number="1.12.1"><h3 data-number="1.12.1" class="anchored" data-anchor-id="namespace-cambios">
<span class="header-section-number">1.12.1</span> <code>NAMESPACE</code> cambios</h3>
<p>Además de convertir el comentario especial de <code>strsplit1()</code> en <code>man/strsplit1.Rd</code>, la llamada a <code><a href="https://devtools.r-lib.org/reference/document.html">document()</a></code> actualiza el archivo <code>NAMESPACE</code>, basándose en las etiquetas <code>@export</code> que se encuentran en los comentarios de roxygen. Abra <code>NAMESPACE</code> para su inspección. Los contenidos deben ser:</p>
<!-- OK to use this approach here because I actively do not want a copy button. NAMESPACE should be managed by roxygen and I don't want to tempt anyone to edit it by hand. -->
<div class="cell" data-asis="true">
<pre><code># Generated by roxygen2: do not edit by hand

export(strsplit1)</code></pre>
</div>
<p>La directiva de exportación en <code>NAMESPACE</code> es lo que hace que <code>strsplit1()</code> esté disponible para un usuario después de adjuntar regexcite a través de <code><a href="https://rdrr.io/r/base/library.html">library(regexcite)</a></code>. Así como es completamente posible crear archivos <code>.Rd</code> “a mano”, puedes administrar <code>NAMESPACE</code> explícitamente tú mismo. Pero elegimos delegar esto a devtools (y a roxygen2).</p>
</section></section><section id="check-de-nuevo" class="level2" data-number="1.13"><h2 data-number="1.13" class="anchored" data-anchor-id="check-de-nuevo">
<span class="header-section-number">1.13</span> <code>check()</code> de nuevo</h2>
<p>regexcite debería pasar la <code>R CMD check</code> limpiamente ahora y para siempre: 0 errores, 0 advertencias, 0 notas.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/check.html">check</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<pre><code>── R CMD check results ─────────────────── regexcite 0.0.0.9000 ────
Duration: 7.5s

0 errors ✔ | 0 warnings ✔ | 0 notes ✔</code></pre>
</div>
</section><section id="install" class="level2" data-number="1.14"><h2 data-number="1.14" class="anchored" data-anchor-id="install">
<span class="header-section-number">1.14</span> <code>install()</code>
</h2>
<p>Ahora que sabemos que tenemos un producto mínimo viable, instalemos el paquete regexcite en su biblioteca mediante <code><a href="https://devtools.r-lib.org/reference/install.html">install()</a></code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<pre><code>── R CMD build ─────────────────────────────────────────────────────
* checking for file ‘/tmp/RtmpA51qZz/regexcite/DESCRIPTION’ ... OK
* preparing ‘regexcite’:
* checking DESCRIPTION meta-information ... OK
* checking for LF line-endings in source and make files and shell scripts
* checking for empty or unneeded directories
* building ‘regexcite_0.0.0.9000.tar.gz’
Running /opt/R/4.4.0/lib/R/bin/R CMD INSTALL \
  /tmp/RtmpA51qZz/regexcite_0.0.0.9000.tar.gz --install-tests 
* installing to library ‘/home/runner/work/rpkgs-es/rpkgs-es/renv/library/linux-ubuntu-noble/R-4.4/x86_64-pc-linux-gnu’
* installing *source* package ‘regexcite’ ...
** using staged installation
** R
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded from temporary location
** testing if installed package can be loaded from final location
** testing if installed package keeps a record of temporary installation path
* DONE (regexcite)</code></pre>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>RStudio expone una funcionalidad similar en el menu <em>Build</em> y en el panel <em>Build</em> via <em>Install and Restart</em>, y con atajos de teclado Ctrl + Shift + B (Windows &amp; Linux) o Cmd + Shift + B (macOS).</p>
</div>
</div>
<p>Una vez completada la instalación, podemos adjuntar y usar regexcite como cualquier otro paquete. Revisemos nuestro pequeño ejemplo desde arriba. Este también es un buen momento para reiniciar su sesión de R y asegurarse de tener un espacio de trabajo limpio.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">regexcite</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"alfa,bravo,charlie,delta"</span></span>
<span><span class="fu">strsplit1</span><span class="op">(</span><span class="va">x</span>, split <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "alfa"    "bravo"   "charlie" "delta"</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>¡Éxito!</p>
</section><section id="use_testthat" class="level2" data-number="1.15"><h2 data-number="1.15" class="anchored" data-anchor-id="use_testthat">
<span class="header-section-number">1.15</span> <code>use_testthat()</code>
</h2>
<p>Hemos probado <code>strsplit1()</code> de manera informal, en un solo ejemplo. Podemos formalizar esto como una prueba unitaria. Esto significa que expresamos una expectativa concreta sobre el resultado correcto de <code>strsplit1()</code> para una entrada específica.</p>
<p>Primero, declaramos nuestra intención de escribir pruebas unitarias y usar el paquete testthat para esto, a través de <code><a href="https://usethis.r-lib.org/reference/use_testthat.html">use_testthat()</a></code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_testthat.html">use_testthat</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ Adding 'testthat' to Suggests field in DESCRIPTION</span></span>
<span><span class="co">#&gt; ✔ Adding '3' to Config/testthat/edition</span></span>
<span><span class="co">#&gt; ✔ Creating 'tests/testthat/'</span></span>
<span><span class="co">#&gt; ✔ Writing 'tests/testthat.R'</span></span>
<span><span class="co">#&gt; • Call `use_test()` to initialize a basic test file and open it for editing.</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Esto inicializa la maquinaria de prueba unitaria para su paquete. Añade <code>Suggests: testthat</code> a <code>DESCRIPTION</code>, crea el directorio <code>tests/testthat/</code>, y añade el script <code>tests/testthat.R</code>. Notarás que la prueba probablemente se agregó con una versión mínima de 3.0.0 y un segundo campo DESCRIPTION, <code>Config/testthat/edition: 3</code>. Hablaremos más sobre esos detalles en <a href="testing-basics.html" class="quarto-xref"><span>Capítulo 13</span></a>.</p>
<p>Sin embargo, ¡todavía depende de USTED escribir las pruebas reales!</p>
<p>El asistente <code><a href="https://usethis.r-lib.org/reference/use_r.html">use_test()</a></code> abre y/o crea un archivo de prueba. Puede proporcionar el nombre base del archivo o, si está editando el archivo fuente relevante en RStudio, se generará automáticamente. Para muchos de ustedes, si <code>R/strsplit1.R</code> es el archivo activo en RStudio, pueden simplemente llamar a <code><a href="https://usethis.r-lib.org/reference/use_r.html">use_test()</a></code>. Sin embargo, dado que este libro no se creó de forma interactiva, debemos proporcionar el nombre base de forma explícita:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_r.html">use_test</a></span><span class="op">(</span><span class="st">"strsplit1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ Writing 'tests/testthat/test-strsplit1.R'</span></span>
<span><span class="co">#&gt; • Edit 'tests/testthat/test-strsplit1.R'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Esto crea el archivo <code>tests/testthat/test-strsplit1.R</code>. Si ya hubiera existido, <code><a href="https://usethis.r-lib.org/reference/use_r.html">use_test()</a></code> simplemente lo habría abierto. Notarás que hay una prueba de ejemplo en el archivo recién creado; elimina ese código y reemplázalo con este contenido:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"strsplit1() splits a string"</span>, <span class="op">{</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu">strsplit1</span><span class="op">(</span><span class="st">"a,b,c"</span>, split <span class="op">=</span> <span class="st">","</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Esto prueba que <code>strsplit1()</code> da el resultado esperado al dividir una cadena de caracteres.</p>
<p>Ejecute esta prueba de forma interactiva, como lo hará cuando escriba la suya propia. Si no se puede encontrar <code>test_that()</code> o <code>strsplit1()</code>, eso sugiere que probablemente necesites llamar a <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code>.</p>
<p>En el futuro, sus pruebas se ejecutarán principalmente <em>en masa</em> y en condiciones de plena competencia a través de <code><a href="https://devtools.r-lib.org/reference/test.html">test()</a></code>:</p>
<!-- TODO: I have no idea why I have to disable crayon here, but if I don't, I guess raw ANSI escapes. Other chunks seem to work fine with downlig. It would also be nice to not see evidence of progress reporting, but the previous approach to turning that off keeps this chunk from showing any output at all :( The previous approach was `R.options = list(testthat.default_reporter = testthat::ProgressReporter$new(update_interval = Inf))`. -->
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html">test</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Testing regexcite</span></span>
<span><span class="co">#&gt; ✔ | F W  S  OK | Context</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ⠏ |          0 | strsplit1                                          </span></span>
<span><span class="co">#&gt; ✔ |          1 | strsplit1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ══ Results ═════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; [ FAIL 0 | WARN 0 | SKIP 0 | PASS 1 ]</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span>RStudio
</div>
</div>
<div class="callout-body-container callout-body">
<p>RStudio expone <code><a href="https://devtools.r-lib.org/reference/test.html">test()</a></code> en el menú <em>Build</em>, en el panel <em>Build</em> via <em>More &gt; Test package</em>, y con atajos de teclado Ctrl + Shift + T (Windows &amp; Linux) o Cmd + Shift + T (macOS).</p>
</div>
</div>
<p>Sus pruebas también se ejecutan cada vez que <code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code> el paquete. De esta manera, básicamente aumentas los controles estándar con algunos propios, que son específicos de tu paquete. Es una buena idea utilizar el <a href="https://covr.r-lib.org">paquete covr</a> para realizar un seguimiento de qué proporción del código fuente de su paquete se ejerce mediante las pruebas. Se pueden encontrar más detalles en <a href="testing-design.html#sec-testing-design-coverage" class="quarto-xref"><span>Sección 14.1.1</span></a>.</p>
</section><section id="use_package" class="level2" data-number="1.16"><h2 data-number="1.16" class="anchored" data-anchor-id="use_package">
<span class="header-section-number">1.16</span> <code>use_package()</code>
</h2>
<p>Inevitablemente querrás utilizar una función de otro paquete en tu propio paquete. Necesitaremos usar métodos específicos de paquetes para declarar los otros paquetes que necesitamos (es decir, nuestras dependencias) y para usar estos paquetes en los nuestros. Si planea enviar un paquete a CRAN, tenga en cuenta que esto se aplica incluso a funciones en paquetes que considera “siempre disponibles”, como <code><a href="https://rdrr.io/r/stats/median.html">stats::median()</a></code> o <code><a href="https://rdrr.io/r/utils/head.html">utils::head()</a></code>.</p>
<p>Un dilema común al utilizar las funciones de expresión regular de R es la incertidumbre sobre si solicitar <code>perl = TRUE</code> o <code>perl = FALSE</code>. Y luego, a menudo, pero no siempre, hay otros argumentos que alteran la forma en que se combinan los patrones, como <code>fixed</code>, <code>ignore.case</code> e <code>invert</code>. Puede ser difícil realizar un seguimiento de qué funciones utilizan qué argumentos y cómo interactúan los argumentos, por lo que muchos usuarios nunca llegan al punto en el que conservan estos detalles sin volver a leer los documentos.</p>
<p>El paquete stringr “proporciona un conjunto coherente de funciones diseñadas para hacer que trabajar con cadenas de caracteres sea lo más fácil posible”. En particular, stringr usa un sistema de expresión regular en todas partes (expresiones regulares ICU) y usa la misma interfaz en cada función para controlar comportamientos coincidentes, como la distinción entre mayúsculas y minúsculas. A algunas personas les resulta más fácil internalizar y programar esto. Imaginemos que decide que prefiere construir regexcite basado en stringr (y stringi) que en las funciones de expresión regular de base R.</p>
<p>Primero, declare su intención general de utilizar algunas funciones del espacio de nombres stringr con <code><a href="https://usethis.r-lib.org/reference/use_package.html">use_package()</a></code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_package.html">use_package</a></span><span class="op">(</span><span class="st">"stringr"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ Adding 'stringr' to Imports field in DESCRIPTION</span></span>
<span><span class="co">#&gt; • Refer to functions with `stringr::fun()`</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Esto agrega el paquete stringr al campo <code>Imports</code> de <code>DESCRIPTION</code>. Y eso es todo lo que hace.</p>
<p>Volvamos a visitar <code>strsplit1()</code> para hacerlo más parecido a una cadena. Aquí hay una nueva versión<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb37"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">str_split_one</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">string</span>, <span class="va">pattern</span>, <span class="va">n</span> <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">is.character</a></span><span class="op">(</span><span class="va">string</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">string</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">string</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split</a></span><span class="op">(</span>string <span class="op">=</span> <span class="va">string</span>, pattern <span class="op">=</span> <span class="va">pattern</span>, n <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/character.html">character</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Tenga en cuenta que nosotros:</p>
<ul>
<li>Cambie el nombre de la función a <code>str_split_one()</code>, para indicar que es un contenedor alrededor de <code><a href="https://stringr.tidyverse.org/reference/str_split.html">stringr::str_split()</a></code>.</li>
<li>Adopte los nombres de los argumentos de <code><a href="https://stringr.tidyverse.org/reference/str_split.html">stringr::str_split()</a></code>. Ahora tenemos <code>string</code> y <code>pattern</code> (y <code>n</code>), en lugar de <code>x</code> y <code>split</code>.</li>
<li>Introducir un poco de verificación de argumentos y manejo de casos extremos. Esto no está relacionado con el cambio a stringr y sería igualmente beneficioso en la versión construida en <code><a href="https://rdrr.io/r/base/strsplit.html">strsplit()</a></code>.</li>
<li>Utilice el formulario <code>paquete::función()</code> al llamar a <code><a href="https://stringr.tidyverse.org/reference/str_split.html">stringr::str_split()</a></code>. Esto especifica que queremos llamar a la función <code>str_split()</code> desde el espacio de nombres stringr. Hay más de una forma de llamar a una función desde otro paquete y la que recomendamos aquí se explica detalladamente en <a href="dependencies-in-practice.html" class="quarto-xref"><span>Capítulo 11</span></a>.</li>
</ul>
<p>¿Dónde deberíamos escribir esta nueva definición de función? Si queremos seguir la convención en la que nombramos el archivo <code>.R</code> después de la función que define, ahora necesitamos realizar algunos cambios complicados en los archivos. Debido a que esto ocurre con bastante frecuencia en la vida real, tenemos la función <code><a href="https://usethis.r-lib.org/reference/rename_files.html">rename_files()</a></code>, que coreografía el cambio de nombre de un archivo en <code>R/</code> y sus archivos complementarios asociados debajo de <code>test/</code>.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://usethis.r-lib.org/reference/rename_files.html">rename_files</a></span><span class="op">(</span><span class="st">"strsplit1"</span>, <span class="st">"str_split_one"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ Moving 'R/strsplit1.R' to 'R/str_split_one.R'</span></span>
<span><span class="co">#&gt; ✔ Moving 'tests/testthat/test-strsplit1.R' to 'tests/testthat/test-str_split_one.R'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Recuerde: el trabajo del nombre del archivo es puramente aspiracional. ¡Aún necesitamos actualizar el contenido de estos archivos!</p>
<p>Aquí están los contenidos actualizados de <code>R/str_split_one.R</code>. Además de cambiar la definición de la función, también actualizamos el encabezado de roxygen para reflejar los nuevos argumentos e incluir ejemplos que muestren las características de stringr.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#' dividir una cadena de caracteres</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param string Un vector de caracteres con, como máximo, un elemento.</span></span>
<span><span class="co">#' @inheritParams stringr::str_split</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return Un vector de caracteres.</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' x &lt;- "alfa,bravo,charlie,delta"</span></span>
<span><span class="co">#' str_split_one(x, pattern = ",")</span></span>
<span><span class="co">#' str_split_one(x, pattern = ",", n = 2)</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' y &lt;- "192.168.0.1"</span></span>
<span><span class="co">#' str_split_one(y, pattern = stringr::fixed("."))</span></span>
<span><span class="va">str_split_one</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">string</span>, <span class="va">pattern</span>, <span class="va">n</span> <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html">stopifnot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html">is.character</a></span><span class="op">(</span><span class="va">string</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">string</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">string</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_split.html">str_split</a></span><span class="op">(</span>string <span class="op">=</span> <span class="va">string</span>, pattern <span class="op">=</span> <span class="va">pattern</span>, n <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/character.html">character</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>¡No olvides actualizar también el archivo de prueba!</p>
<p>Aquí están los contenidos actualizados de <code>tests/testthat/test-str_split_one.R</code>. Además del cambio en el nombre y los argumentos de la función, agregamos un par de pruebas más.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"str_split_one() divide una cadena de caracteres"</span>, <span class="op">{</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu">str_split_one</span><span class="op">(</span><span class="st">"a,b,c"</span>, <span class="st">","</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">test_that</span><span class="op">(</span><span class="st">"str_split_one() errores si la longitud de entrada &gt; 1"</span>, <span class="op">{</span></span>
<span>  <span class="fu">expect_error</span><span class="op">(</span><span class="fu">str_split_one</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a,b"</span>,<span class="st">"c,d"</span><span class="op">)</span>, <span class="st">","</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">test_that</span><span class="op">(</span><span class="st">"str_split_one() expone características de stringr::str_split()"</span>, <span class="op">{</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu">str_split_one</span><span class="op">(</span><span class="st">"a,b,c"</span>, <span class="st">","</span>, n <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b,c"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="fu">str_split_one</span><span class="op">(</span><span class="st">"a.b"</span>, <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/modifiers.html">fixed</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Antes de probar el nuevo <code>str_split_one()</code>, necesitamos llamar a <code><a href="https://devtools.r-lib.org/reference/document.html">document()</a></code>. ¿Por qué? Recuerde que <code><a href="https://devtools.r-lib.org/reference/document.html">document()</a></code> realiza dos tareas principales:</p>
<ol type="1">
<li>Convierte nuestros comentarios de roxygen en documentación R adecuada.</li>
<li>(Re)genera <code>NAMESPACE</code>.</li>
</ol>
<p>El segundo trabajo es especialmente importante aquí, ya que ya no exportaremos <code>strsplit1()</code> y ahora exportaremos <code>str_split_one()</code>. No se desanime por la advertencia sobre <code>"Objects listed as exports, but not present in namespace: strsplit1"</code>. Eso siempre sucede cuando eliminas algo del espacio de nombres.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/document.html">document</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Updating regexcite documentation</span></span>
<span><span class="co">#&gt; ℹ Loading regexcite</span></span>
<span><span class="co">#&gt; Warning: Objects listed as exports, but not present in namespace:</span></span>
<span><span class="co">#&gt; • strsplit1</span></span>
<span><span class="co">#&gt; Writing 'NAMESPACE'</span></span>
<span><span class="co">#&gt; Writing 'str_split_one.Rd'</span></span>
<span><span class="co">#&gt; Deleting 'strsplit1.Rd'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Pruebe la nueva función <code>str_split_one()</code> simulando la instalación del paquete mediante <code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code>:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/load_all.html">load_all</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Loading regexcite</span></span>
<span><span class="fu">str_split_one</span><span class="op">(</span><span class="st">"a, b, c"</span>, pattern <span class="op">=</span> <span class="st">", "</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a" "b" "c"</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section><section id="use_github" class="level2" data-number="1.17"><h2 data-number="1.17" class="anchored" data-anchor-id="use_github">
<span class="header-section-number">1.17</span> <code>use_github()</code>
</h2>
<p>Nos has visto haciendo commits durante el proceso de desarrollo de regexcite. Puede ver un historial indicativo en <a href="https://github.com/jennybc/regexcite" class="uri">https://github.com/jennybc/regexcite</a>. Nuestro uso del control de versiones y la decisión de exponer el proceso de desarrollo significa que puede inspeccionar el estado de la fuente de regexcite en cada etapa de desarrollo. Al observar las llamadas diferencias, puede ver exactamente cómo cada función auxiliar de devtools modifica los archivos fuente que constituyen el paquete regexcite.</p>
<p>¿Cómo conectaría su paquete regexcite local y su repositorio Git a un repositorio complementario en GitHub? Aquí hay tres enfoques:</p>
<ol type="1">
<li>
<a href="https://usethis.r-lib.org/reference/use_github.html"><code>use_github()</code></a> es una ayuda que recomendamos a largo plazo. No lo demostraremos aquí porque requiere cierta configuración de credenciales por su parte. Tampoco queremos derribar y reconstruir el paquete público de regexcite cada vez que construimos este libro.</li>
<li>¡Primero configura el repositorio de GitHub! Suena contrario a la intuición, pero la forma más fácil de llevar su trabajo a GitHub es iniciarlo allí y luego usar RStudio para comenzar a trabajar en una copia local sincronizada. Este enfoque se describe en los flujos de trabajo de Happy Git <a href="https://happygitwithr.com/new-github-first.html">Nuevo proyecto, GitHub primero</a> y <a href="https://happygitwithr.com/existing-github-first.html">Proyecto existente, GitHub primero</a>.</li>
<li>La línea de comando Git siempre se puede usar para agregar un repositorio remoto <em>post hoc</em>. Esto se describe en el flujo de trabajo de Happy Git <a href="https://happygitwithr.com/existing-github-last.html">Proyecto existente, GitHub último</a>.</li>
</ol>
<p>Cualquiera de estos enfoques conectará su proyecto regexcite local a un repositorio de GitHub, público o privado, al que puede enviar o extraer usando el cliente Git integrado en RStudio. En <a href="software-development-practices.html" class="quarto-xref"><span>Capítulo 20</span></a>, explicamos por qué vale la pena incorporar el control de versiones (por ejemplo, Git) y, específicamente, el control de versiones alojado (por ejemplo, GitHub) en su proceso de desarrollo de paquetes.</p>
</section><section id="use_readme_rmd" class="level2" data-number="1.18"><h2 data-number="1.18" class="anchored" data-anchor-id="use_readme_rmd">
<span class="header-section-number">1.18</span> <code>use_readme_rmd()</code>
</h2>
<p>Ahora que su paquete está en GitHub, el archivo <code>README.md</code> es importante. Es la página de inicio y el tapete de bienvenida del paquete, al menos hasta que decida darle un sitio web (ver <a href="website.html" class="quarto-xref"><span>Capítulo 19</span></a>), agregar una viñeta (ver <a href="vignettes.html" class="quarto-xref"><span>Capítulo 17</span></a>) o enviarlo a CRAN (ver <a href="release.html" class="quarto-xref"><span>Capítulo 22</span></a> ).</p>
<p>La función <code><a href="https://usethis.r-lib.org/reference/use_readme_rmd.html">use_readme_rmd()</a></code> inicializa un <code>README.Rmd</code> básico y ejecutable listo para que usted pueda editar:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb43"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_readme_rmd.html">use_readme_rmd</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✔ Writing 'README.Rmd'</span></span>
<span><span class="co">#&gt; ✔ Adding '^README\\.Rmd$' to '.Rbuildignore'</span></span>
<span><span class="co">#&gt; • Update 'README.Rmd' to include installation instructions.</span></span>
<span><span class="co">#&gt; ✔ Writing '.git/hooks/pre-commit'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Además de crear <code>README.Rmd</code>, esto agrega algunas líneas a <code>.Rbuildignore</code> y crea un enlace de confirmación previa de Git para ayudarlo a mantener sincronizados <code>README.Rmd</code> y <code>README.md</code>.</p>
<p><code>README.Rmd</code> ya tiene secciones que le solicitan que:</p>
<ul>
<li>Describe el propósito del paquete.</li>
<li>Proporcionar instrucciones de instalación. Si se detecta un control remoto de GitHub cuando se llama a <code><a href="https://usethis.r-lib.org/reference/use_readme_rmd.html">use_readme_rmd()</a></code>, esta sección está completa con instrucciones sobre cómo instalar desde GitHub.</li>
<li>Muestra un poco de uso..</li>
</ul>
<p>¿Cómo poblar este esqueleto? Copie material generosamente de <code>DESCRIPTION</code> y cualquier prueba o ejemplo formal e informal que tenga. Algo es mejor que nada. Esto es útil porque la gente probablemente no instalará su paquete ni revisará los archivos de ayuda individuales para descubrir cómo usarlo.</p>
<p>Nos gusta escribir el <code>README</code> en R Markdown, para que pueda incluir el uso real. La inclusión de código en vivo también hace que sea menos probable que su <code>README</code> se vuelva obsoleto y no esté sincronizado con su paquete real.</p>
<p>Para realizar sus propias ediciones, si RStudio aún no lo ha hecho, abra <code>README.Rmd</code> para editar. Asegúrese de que muestre algún uso de <code>str_split_one()</code>.</p>
<p>El <code>README.Rmd</code> que utilizamos está aquí: <a href="https://github.com/jennybc/regexcite/blob/main/README.Rmd">README.Rmd</a> y esto es lo que contiene:</p>
<div class="cell">
<pre><code>---
output: github_document
---

&lt;!-- README.md is generated from README.Rmd. Please edit that file --&gt;

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#&gt;",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

**NOTE: This is a toy package created for expository purposes, for the second edition of [R Packages](https://r-pkgs.org). It is not meant to actually be useful. If you want a package for factor handling, please see [stringr](https://stringr.tidyverse.org), [stringi](https://stringi.gagolewski.com/),
[rex](https://cran.r-project.org/package=rex), and
[rematch2](https://cran.r-project.org/package=rematch2).**

# regexcite

&lt;!-- badges: start --&gt;
&lt;!-- badges: end --&gt;

The goal of regexcite is to make regular expressions more exciting!
It provides convenience functions to make some common tasks with string manipulation and regular expressions a bit easier.

## Installation

You can install the development version of regexcite from [GitHub](https://github.com/) with:
      
``` r
# install.packages("devtools")
devtools::install_github("jennybc/regexcite")
```

## Usage

A fairly common task when dealing with strings is the need to split a single string into many parts.
This is what `base::strplit()` and `stringr::str_split()` do.

```{r}
(x &lt;- "alfa,bravo,charlie,delta")
strsplit(x, split = ",")
stringr::str_split(x, pattern = ",")
```

Notice how the return value is a **list** of length one, where the first element holds the character vector of parts.
Often the shape of this output is inconvenient, i.e. we want the un-listed version.

That's exactly what `regexcite::str_split_one()` does.

```{r}
library(regexcite)

str_split_one(x, pattern = ",")
```

Use `str_split_one()` when the input is known to be a single string.
For safety, it will error if its input has length greater than one.

`str_split_one()` is built on `stringr::str_split()`, so you can use its `n` argument and stringr's general interface for describing the `pattern` to be matched.

```{r}
str_split_one(x, pattern = ",", n = 2)

y &lt;- "192.168.0.1"
str_split_one(y, pattern = stringr::fixed("."))
```</code></pre>
</div>
<p>¡No olvides renderizarlo para crear <code>README.md</code>! El enlace de confirmación previa debería recordarle si intenta confirmar <code>README.Rmd</code>, pero no <code>README.md</code>, y también cuando <code>README.md</code> parece estar desactualizado.</p>
<p>La mejor manera de renderizar <code>README.Rmd</code> es con <code><a href="https://devtools.r-lib.org/reference/build_rmd.html">build_readme()</a></code>, porque se encarga de renderizar con la versión más actual de su paquete, es decir, instala una copia temporal de la fuente actual.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb45"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/build_rmd.html">build_readme</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Installing regexcite in temporary library</span></span>
<span><span class="co">#&gt; ℹ Building '/tmp/RtmpA51qZz/regexcite/README.Rmd'</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Puede ver el <code>README.md</code> renderizado simplemente <a href="https://github.com/jennybc/regexcite#readme">visitando regexcite en GitHub</a>.</p>
<p>Finalmente, no olvides hacer una última confirmación. Y realiza un push, si estás usando GitHub.</p>
</section><section id="el-último-check-e-install" class="level2" data-number="1.19"><h2 data-number="1.19" class="anchored" data-anchor-id="el-último-check-e-install">
<span class="header-section-number">1.19</span> El último: <code>check()</code> e <code>install()</code>
</h2>
<p>Ejecutemos <code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code> nuevamente para asegurarnos de que todo esté bien.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/check.html">check</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<pre><code>── R CMD check results ─────────────────── regexcite 0.0.0.9000 ────
Duration: 8.8s

0 errors ✔ | 0 warnings ✔ | 0 notes ✔</code></pre>
</div>
<p>regexcite No debe tener errores, advertencias o notas. Este sería un buen momento para reconstruirlo e instalarlo correctamente. ¡Y celebra!</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<pre><code>── R CMD build ─────────────────────────────────────────────────────
* checking for file ‘/tmp/RtmpA51qZz/regexcite/DESCRIPTION’ ... OK
* preparing ‘regexcite’:
* checking DESCRIPTION meta-information ... OK
* checking for LF line-endings in source and make files and shell scripts
* checking for empty or unneeded directories
Removed empty directory ‘regexcite/tests/testthat/_snaps’
* building ‘regexcite_0.0.0.9000.tar.gz’
Running /opt/R/4.4.0/lib/R/bin/R CMD INSTALL \
  /tmp/RtmpA51qZz/regexcite_0.0.0.9000.tar.gz --install-tests 
* installing to library ‘/home/runner/work/rpkgs-es/rpkgs-es/renv/library/linux-ubuntu-noble/R-4.4/x86_64-pc-linux-gnu’
* installing *source* package ‘regexcite’ ...
** using staged installation
** R
** tests
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded from temporary location
** testing if installed package can be loaded from final location
** testing if installed package keeps a record of temporary installation path
* DONE (regexcite)</code></pre>
</div>
<p>No dude en visitar el <a href="https://github.com/jennybc/regexcite">paquete regexcite</a> en GitHub, que aparece exactamente como se desarrolló aquí. El historial de commits refleja cada paso individual, así que utilice las diferencias para ver la adición y modificación de archivos a medida que evoluciona el paquete. El resto de este libro detalla cada paso que has visto aquí y mucho más.</p>
</section><section id="revisión" class="level2" data-number="1.20"><h2 data-number="1.20" class="anchored" data-anchor-id="revisión">
<span class="header-section-number">1.20</span> Revisión</h2>
<p>Este capítulo está destinado a darle una idea del flujo de trabajo típico de desarrollo de paquetes, resumido como un diagrama en <a href="#fig-package-dev-workflow" class="quarto-xref">Figura&nbsp;<span>1.1</span></a>. Todo lo que ve aquí se ha abordado en este capítulo, con la excepción de las Acciones de GitHub, sobre las cuales aprenderá más en <a href="software-development-practices.html#sec-sw-dev-practices-gha" class="quarto-xref"><span>Sección 20.2.1</span></a>.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-package-dev-workflow" class="quarto-float quarto-figure quarto-figure-center anchored" alt="Diagrama que presenta 4 funciones clave en el flujo de trabajo de devtools: load_all(), test(), document() y check(). Cada uno es parte de uno o más bucles indicados por flechas, que representan el proceso típico de editar código, pruebas o documentación, luego de probar ese código, ejecutar pruebas o obtener una vista previa de la documentación. check() se conecta externamente a `git commit`, `git push` y GitHub Actions.">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-package-dev-workflow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="diagrams/workflow.png" class="img-fluid figure-img" alt="Diagrama que presenta 4 funciones clave en el flujo de trabajo de devtools: load_all(), test(), document() y check(). Cada uno es parte de uno o más bucles indicados por flechas, que representan el proceso típico de editar código, pruebas o documentación, luego de probar ese código, ejecutar pruebas o obtener una vista previa de la documentación. check() se conecta externamente a `git commit`, `git push` y GitHub Actions.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-package-dev-workflow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;1.1: El flujo de trabajo de desarrollo del paquete devtools.
</figcaption></figure>
</div>
</div>
</div>
<p>Aquí hay una revisión de las funciones clave que ha visto en este capítulo, organizadas aproximadamente por su papel en el proceso de desarrollo.</p>
<p>Estas funciones configuran partes del paquete y normalmente se llaman una vez por paquete:</p>
<ul>
<li><code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code></li>
<li><code><a href="https://usethis.r-lib.org/reference/use_git.html">use_git()</a></code></li>
<li><code><a href="https://usethis.r-lib.org/reference/licenses.html">use_mit_license()</a></code></li>
<li><code><a href="https://usethis.r-lib.org/reference/use_testthat.html">use_testthat()</a></code></li>
<li><code><a href="https://usethis.r-lib.org/reference/use_github.html">use_github()</a></code></li>
<li><code><a href="https://usethis.r-lib.org/reference/use_readme_rmd.html">use_readme_rmd()</a></code></li>
</ul>
<p>Llamará a estas funciones de forma regular, a medida que agregue funciones y pruebas o asuma dependencias:</p>
<ul>
<li><code><a href="https://usethis.r-lib.org/reference/use_r.html">use_r()</a></code></li>
<li><code><a href="https://usethis.r-lib.org/reference/use_r.html">use_test()</a></code></li>
<li><code><a href="https://usethis.r-lib.org/reference/use_package.html">use_package()</a></code></li>
</ul>
<p>Llamará a estas funciones varias veces por día o por hora, durante el desarrollo:</p>
<ul>
<li><code><a href="https://devtools.r-lib.org/reference/load_all.html">load_all()</a></code></li>
<li><code><a href="https://devtools.r-lib.org/reference/document.html">document()</a></code></li>
<li><code><a href="https://devtools.r-lib.org/reference/test.html">test()</a></code></li>
<li><code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code></li>
</ul>


</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>Recuerde que este ejemplo fue tan inspirador que ahora es una función real en el paquete stringr: `stringr::str_split_1()`!<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></main><!-- /main --><script>

  // Chapter name
  const currentChapterFile = window.location.pathname.split('/').pop().replace('.html', '');

  //Defining urls
  const originalURL = "https://github.com/hadley/r-pkgs/";
  const translationURL = "https://github.com/davidrsch/rpkgs-es";

  //Defining texts
  const edit_text = "Editar esta página";
  const issue_text = "Informar de un problema"

  //Defining git_i
  const git_i = '<div><i class="bi bi-github"></i></div>';

  // Adding TOC if not exist
  const sidebarmargin = document.getElementById('quarto-margin-sidebar');
  const buscar_TOC = document.getElementById('TOC');

  if (!buscar_TOC) {
    const crear_TOC = document.createElement('nav');
    crear_TOC.id = 'TOC';
    crear_TOC.role = "doc-toc";
    crear_TOC.class = "toc-active";
    sidebarmargin.appendChild(crear_TOC);
  }


  // Adding original github actions
  const TOC = document.getElementById('TOC');
  const originalga = document.createElement('h2');
  originalga.textContent = "Original";
  const toc_act_O = document.createElement('div');
  toc_act_O.className = 'toc-actions';
  toc_act_O.id = 'toc-act-O';
  const act_link_O = document.createElement('div');
  act_link_O.className='action-links';
  act_link_O.id='act-link-O';
  const edit_issue_O ='<p><a href="'+originalURL+'/edit/main/'+currentChapterFile+'.Rmd" class="toc-action">'+edit_text+'</p><p><a href="'+originalURL+'/issues/new" class="toc-action">'+issue_text+'</p>';


  TOC.appendChild(originalga);
  TOC.appendChild(toc_act_O);
  toc_act_O.innerHTML += git_i;
  toc_act_O.appendChild(act_link_O);
  act_link_O.innerHTML += edit_issue_O;

  // Adding translation github actions
  const translationga = document.createElement('h2');
  translationga.textContent = "Traducción";
  const toc_act_T = document.createElement('div');
  toc_act_T.className = 'toc-actions';
  toc_act_T.id = 'toc-act-T';
  const act_link_T = document.createElement('div');
  act_link_T.className='action-links';
  act_link_T.id='act-link-T';
  const edit_issue_T ='<p><a href="'+translationURL+'/edit/main/'+currentChapterFile+'.qmd" class="toc-action">'+edit_text+'</p><p><a href="'+translationURL+'/issues/new" class="toc-action">'+issue_text+'</p>';


  TOC.appendChild(translationga);
  TOC.appendChild(toc_act_T);
  toc_act_T.innerHTML += git_i;
  toc_act_T.appendChild(act_link_T);
  act_link_T.innerHTML += edit_issue_T;


</script><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copiado");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copiado");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/davidrsch\.github\.io\/rpkgs-es\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./introduction.html" class="pagination-link" aria-label="Introducción">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introducción</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./setup.html" class="pagination-link" aria-label="Configuración del sistema">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Configuración del sistema</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Paquetes de R fue escrito por Hadley Wickham y Jenny Bryan</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Este libro fue creado usando <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>


</body></html>